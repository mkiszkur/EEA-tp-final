# limpio la memoria
rm(list = ls()) # remove all objects
gc() # garbage collection
knitr::opts_knit$set(root.dir = "/Users/miguelkiszkurno/Documents/EEA-tp-final")
# Importo las librerías que voy a usar
#install.packages("robustbase")
library(tidyverse)
library(corrr)
library(knitr)
library(kableExtra)
library(GGally)
library(tidymodels)
library(rsample)
library(ggplot2)
library(robustbase)
# Establezco el Working Directory
#setwd("/Users/miguelkiszkurno/Documents/EEA-tp-final")
#Semilla que voy a usar durante la notebook
semilla = 730
# cargo los datos en dataset
#Dataset de train
cat (getwd())
ds <- read.table(paste0("/Users/miguelkiszkurno/Documents/EEA-tp-final/datasets/ENFR-2018-Base usuario.txt"),
sep="|", dec=".", header = TRUE, fill = TRUE)
#Vista general del dataset
glimpse(ds)
#Confirmamos que no hay registros de gente menor de 18 años
ds_mayores <- ds[ds$bhch04 >= 18,]
# Contar registros con bhch04 >= 18
n_mayor18 <- nrow(ds_mayores)
# Contar registros con bhch04 < 18
n_menor18 <- nrow(ds) - n_mayor18
# Imprimir recuentos
print(paste("Registros con bhch04 >= 18:", n_mayor18))
print(paste("Registros con bhch04 < 18:", n_menor18))
#Miro los valores unicos y los datos faltantes
tabla_exploratorios =  ds %>%
gather(.,
key = "variables",
value = "valores") %>% # agrupamos por las variables del set
group_by(variables) %>%
summarise(valores_unicos = n_distinct(valores),
porcentaje_faltantes = sum(is.na(valores))/nrow(ds)*100) %>%
arrange(desc(porcentaje_faltantes), valores_unicos) # ordenamos por porcentaje de
#Visualizo la tabla
tabla_exploratorios
#Elimino las columnas del dataset
ds <- subset(ds, select = -c(ano4, trimestre))
